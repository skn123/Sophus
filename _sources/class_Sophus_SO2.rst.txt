.. index:: pair: class; Sophus::SO2
.. _doxid-class_sophus_1_1_s_o2:

template class Sophus::SO2
==========================

.. toctree::
	:hidden:

Overview
~~~~~~~~

:ref:`SO2 <doxid-class_sophus_1_1_s_o2>` using default storage; derived from :ref:`SO2Base <doxid-class_sophus_1_1_s_o2_base>`. :ref:`More...<details-class_sophus_1_1_s_o2>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <so2.hpp>
	
	template <class Scalar_, int Options>
	class SO2 {
	public:
		// typedefs
	
		using :target:`Base<doxid-class_sophus_1_1_s_o2_1a686cd70452b2ce54d8a1fd15c5032acb>` = :ref:`SO2Base<doxid-class_sophus_1_1_s_o2_base>`<SO2<Scalar_, Options>> ;
		using :target:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>` = Scalar_ ;
		using :target:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` = typename :ref:`Base::Transformation<doxid-class_sophus_1_1_s_o2_base_1adc369a4eeb5b4b7c965ef7ddb3fc0cfb>` ;
		using :target:`Point<doxid-class_sophus_1_1_s_o2_1adc0c883d16673a01978351aff2c36e65>` = typename :ref:`Base::Point<doxid-class_sophus_1_1_s_o2_base_1adcdd252320cb4acbf9a42196ded44a1d>` ;
		using :target:`HomogeneousPoint<doxid-class_sophus_1_1_s_o2_1abb9011dfcb9bad2dac64f5100c187849>` = typename :ref:`Base::HomogeneousPoint<doxid-class_sophus_1_1_s_o2_base_1ae6db15881a449fc1cdd04e9b5420d972>` ;
		using :target:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` = typename :ref:`Base::Tangent<doxid-class_sophus_1_1_s_o2_base_1a76ca4f08371c16becd872c8e9160e65f>` ;
		using :target:`Adjoint<doxid-class_sophus_1_1_s_o2_1ace37c447c4395931c04529206a780246>` = typename :ref:`Base::Adjoint<doxid-class_sophus_1_1_s_o2_base_1ad1fa286289a99adcc81053f226a5a217>` ;
		using :target:`ComplexMember<doxid-class_sophus_1_1_s_o2_1a584cf94ed97900921a8958e4b74b1adf>` = :ref:`Vector2<doxid-namespace_sophus_1a7001ffa27892dccbccf195cf679631de>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>`, Options> ;

		// fields
	
		static constexpr int :target:`DoF<doxid-class_sophus_1_1_s_o2_1a913ab6b6d1788ad8c5824759c3551b63>` = Base::DoF;
		static constexpr int :target:`num_parameters<doxid-class_sophus_1_1_s_o2_1a1e4f748d382d9ec512b0b29110ada096>` = Base::num_parameters;

		// construction
	
		:ref:`SO2<doxid-class_sophus_1_1_s_o2_1a38ca267b4753aae51aeb7dc3b95bf25f>`();
		:ref:`SO2<doxid-class_sophus_1_1_s_o2_1a6ffa217aa4ec7324a3ac01dccafdb7af>`(SO2 const& other);
	
		template <class OtherDerived>
		:ref:`SO2<doxid-class_sophus_1_1_s_o2_1aea2936bc39ceffc95903912d7b8a4723>`(:ref:`SO2Base<doxid-class_sophus_1_1_s_o2_base>`<OtherDerived> const& other);
	
		:ref:`SO2<doxid-class_sophus_1_1_s_o2_1a91658e9c66fe0d5d7836479542c0d8b1>`(:ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` const& R);
		:ref:`SO2<doxid-class_sophus_1_1_s_o2_1a0ed797bc526902611eb3a7d4911da4e8>`(:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>` const& real, :ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>` const& imag);
	
		template <class D>
		:ref:`SO2<doxid-class_sophus_1_1_s_o2_1ac1a4333628b867a755627952cf6d68c4>`(Eigen::MatrixBase<D> const& complex);
	
		:ref:`SO2<doxid-class_sophus_1_1_s_o2_1a5194847514376f136a95f2ed97517c22>`(:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>` theta);

		// methods
	
		:ref:`ComplexMember<doxid-class_sophus_1_1_s_o2_1a584cf94ed97900921a8958e4b74b1adf>` const& :ref:`unit_complex<doxid-class_sophus_1_1_s_o2_1aa93f83881443dcac079bfc7ac4797ab5>`() const;
	
		template <class OtherDerived>
		:ref:`SO2Base<doxid-class_sophus_1_1_s_o2_base>`<Derived>& :ref:`operator=<doxid-class_sophus_1_1_s_o2_1a575657f24a66301128aa9cd708dd3a35>`(:ref:`SO2Base<doxid-class_sophus_1_1_s_o2_base>`<OtherDerived> const& other);
	
		static SO2<:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>`> :ref:`exp<doxid-class_sophus_1_1_s_o2_1a680272fa1fd8c5591890bf044baa0d6f>`(:ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const& theta);
		static :ref:`Sophus::Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o2_1a1e4f748d382d9ec512b0b29110ada096>`, :ref:`DoF<doxid-class_sophus_1_1_s_o2_1a913ab6b6d1788ad8c5824759c3551b63>`> :ref:`Dx_exp_x<doxid-class_sophus_1_1_s_o2_1a202ce061962f8917bccd6b8c8c1abf23>`(:ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const& theta);
		static :ref:`Sophus::Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o2_1a1e4f748d382d9ec512b0b29110ada096>`, :ref:`DoF<doxid-class_sophus_1_1_s_o2_1a913ab6b6d1788ad8c5824759c3551b63>`> :ref:`Dx_exp_x_at_0<doxid-class_sophus_1_1_s_o2_1ae7f87cb7559a551991db0d28e942bef3>`();
		static :ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` :ref:`Dxi_exp_x_matrix_at_0<doxid-class_sophus_1_1_s_o2_1af609e3651b87b0b8f63c8cd9d7f2093e>`(int);
		static :ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` :ref:`generator<doxid-class_sophus_1_1_s_o2_1a86823b7ee6608eda53783ebcdf9ba56a>`();
		static :ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` :ref:`hat<doxid-class_sophus_1_1_s_o2_1a6edca804182226f10afeee4a218ef67b>`(:ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const& theta);
	
		template <class S = Scalar>
		static :ref:`enable_if_t<doxid-namespace_sophus_1a4424dd9c3553f3bb3137e735d8c9d406>`<std::is_floating_point<S>::value, SO2> :ref:`fitToSO2<doxid-class_sophus_1_1_s_o2_1aeed42a6d2ffef6a84c0f9c3c0aaeedb9>`(:ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` const& R);
	
		static :ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` :ref:`lieBracket<doxid-class_sophus_1_1_s_o2_1af13fcfba5317a341b5006f2774e38a85>`(:ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const&, :ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const&);
	
		template <class UniformRandomBitGenerator>
		static SO2 :ref:`sampleUniform<doxid-class_sophus_1_1_s_o2_1a576e6a58e86aa6b70038fe600f1cdbf0>`(UniformRandomBitGenerator& generator);
	
		static :ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` :ref:`vee<doxid-class_sophus_1_1_s_o2_1a0a451cc0e4e0fc8c9c1e1b6e6a91e2ac>`(:ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` const& Omega);

	protected:
		// fields
	
		:ref:`ComplexMember<doxid-class_sophus_1_1_s_o2_1a584cf94ed97900921a8958e4b74b1adf>` :target:`unit_complex_<doxid-class_sophus_1_1_s_o2_1a1af30e076b8c23c1cb2ee0b2e0f4912b>`;

		// methods
	
		:ref:`ComplexMember<doxid-class_sophus_1_1_s_o2_1a584cf94ed97900921a8958e4b74b1adf>`& :ref:`unit_complex_nonconst<doxid-class_sophus_1_1_s_o2_1a458c3514e680e3591ed107c3501b011a>`();
	};
.. _details-class_sophus_1_1_s_o2:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

:ref:`SO2 <doxid-class_sophus_1_1_s_o2>` using default storage; derived from :ref:`SO2Base <doxid-class_sophus_1_1_s_o2_base>`.

Construction
------------

.. index:: pair: function; SO2
.. _doxid-class_sophus_1_1_s_o2_1a38ca267b4753aae51aeb7dc3b95bf25f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO2()

Default constructor initializes unit complex number to identity rotation.

.. index:: pair: function; SO2
.. _doxid-class_sophus_1_1_s_o2_1a6ffa217aa4ec7324a3ac01dccafdb7af:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO2(SO2 const& other)

Copy constructor.

.. index:: pair: function; SO2
.. _doxid-class_sophus_1_1_s_o2_1aea2936bc39ceffc95903912d7b8a4723:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class OtherDerived>
	SO2(:ref:`SO2Base<doxid-class_sophus_1_1_s_o2_base>`<OtherDerived> const& other)

Copy-like constructor from OtherDerived.

.. index:: pair: function; SO2
.. _doxid-class_sophus_1_1_s_o2_1a91658e9c66fe0d5d7836479542c0d8b1:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO2(:ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` const& R)

Constructor from rotation matrix.

Precondition: rotation matrix need to be orthogonal with determinant of 1.

.. index:: pair: function; SO2
.. _doxid-class_sophus_1_1_s_o2_1a0ed797bc526902611eb3a7d4911da4e8:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO2(:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>` const& real, :ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>` const& imag)

Constructor from pair of real and imaginary number.

Precondition: The pair must not be close to zero.

.. index:: pair: function; SO2
.. _doxid-class_sophus_1_1_s_o2_1ac1a4333628b867a755627952cf6d68c4:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class D>
	SO2(Eigen::MatrixBase<D> const& complex)

Constructor from 2-vector.

Precondition: The vector must not be close to zero.

.. index:: pair: function; SO2
.. _doxid-class_sophus_1_1_s_o2_1a5194847514376f136a95f2ed97517c22:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	SO2(:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>` theta)

Constructor from an rotation angle.

Methods
-------

.. index:: pair: function; unit_complex
.. _doxid-class_sophus_1_1_s_o2_1aa93f83881443dcac079bfc7ac4797ab5:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`ComplexMember<doxid-class_sophus_1_1_s_o2_1a584cf94ed97900921a8958e4b74b1adf>` const& unit_complex() const

Accessor of unit complex number.

.. index:: pair: function; operator=
.. _doxid-class_sophus_1_1_s_o2_1a575657f24a66301128aa9cd708dd3a35:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class OtherDerived>
	:ref:`SO2Base<doxid-class_sophus_1_1_s_o2_base>`<Derived>& operator=(:ref:`SO2Base<doxid-class_sophus_1_1_s_o2_base>`<OtherDerived> const& other)

Assignment-like operator from OtherDerived.

.. index:: pair: function; exp
.. _doxid-class_sophus_1_1_s_o2_1a680272fa1fd8c5591890bf044baa0d6f:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static SO2<:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>`> exp(:ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const& theta)

Group exponential.

This functions takes in an element of tangent space (= rotation angle ``theta``) and returns the corresponding element of the group SO(2).

To be more specific, this function computes ``expmat(hat(omega))`` with ``expmat(.)`` being the matrix exponential and ``hat(.)`` being the :ref:`hat() <doxid-class_sophus_1_1_s_o2_1a6edca804182226f10afeee4a218ef67b>` -operator of SO(2).

.. index:: pair: function; Dx_exp_x
.. _doxid-class_sophus_1_1_s_o2_1a202ce061962f8917bccd6b8c8c1abf23:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Sophus::Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o2_1a1e4f748d382d9ec512b0b29110ada096>`, :ref:`DoF<doxid-class_sophus_1_1_s_o2_1a913ab6b6d1788ad8c5824759c3551b63>`> Dx_exp_x(:ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const& theta)

Returns derivative of exp(x) wrt. x.

.. index:: pair: function; Dx_exp_x_at_0
.. _doxid-class_sophus_1_1_s_o2_1ae7f87cb7559a551991db0d28e942bef3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Sophus::Matrix<doxid-namespace_sophus_1a6da48bb60b569fdd4619fcd8f5fb2498>`<:ref:`Scalar<doxid-class_sophus_1_1_s_o2_1acca9bfebc6024a3cc0714778e1f21145>`, :ref:`num_parameters<doxid-class_sophus_1_1_s_o2_1a1e4f748d382d9ec512b0b29110ada096>`, :ref:`DoF<doxid-class_sophus_1_1_s_o2_1a913ab6b6d1788ad8c5824759c3551b63>`> Dx_exp_x_at_0()

Returns derivative of exp(x) wrt. x_i at x=0.

.. index:: pair: function; Dxi_exp_x_matrix_at_0
.. _doxid-class_sophus_1_1_s_o2_1af609e3651b87b0b8f63c8cd9d7f2093e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` Dxi_exp_x_matrix_at_0(int)

Returns derivative of exp(x).matrix() wrt. ``x_i at x=0``.

.. index:: pair: function; generator
.. _doxid-class_sophus_1_1_s_o2_1a86823b7ee6608eda53783ebcdf9ba56a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` generator()

Returns the infinitesimal generators of SO(2).

The infinitesimal generators of SO(2) is:

.. code-block:: cpp

	|  0  1 |
	| -1  0 |

.. index:: pair: function; hat
.. _doxid-class_sophus_1_1_s_o2_1a6edca804182226f10afeee4a218ef67b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` hat(:ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const& theta)

hat-operator

It takes in the scalar representation ``theta`` (= rotation angle) and returns the corresponding matrix representation of Lie algebra element.

Formally, the :ref:`hat() <doxid-class_sophus_1_1_s_o2_1a6edca804182226f10afeee4a218ef67b>` -operator of SO(2) is defined as

``hat(.): R^2 -> R^{2x2}, hat(theta) = theta * G``

with ``G`` being the infinitesimal generator of SO(2).

The corresponding inverse is the :ref:`vee() <doxid-class_sophus_1_1_s_o2_1a0a451cc0e4e0fc8c9c1e1b6e6a91e2ac>` -operator, see below.

.. index:: pair: function; fitToSO2
.. _doxid-class_sophus_1_1_s_o2_1aeed42a6d2ffef6a84c0f9c3c0aaeedb9:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class S = Scalar>
	static :ref:`enable_if_t<doxid-namespace_sophus_1a4424dd9c3553f3bb3137e735d8c9d406>`<std::is_floating_point<S>::value, SO2> fitToSO2(:ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` const& R)

Returns closed :ref:`SO2 <doxid-class_sophus_1_1_s_o2>` given arbitrary 2x2 matrix.

.. index:: pair: function; lieBracket
.. _doxid-class_sophus_1_1_s_o2_1af13fcfba5317a341b5006f2774e38a85:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` lieBracket(:ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const&, :ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` const&)

Lie bracket.

It returns the Lie bracket of SO(2). Since SO(2) is a commutative group, the Lie bracket is simple ``0``.

.. index:: pair: function; sampleUniform
.. _doxid-class_sophus_1_1_s_o2_1a576e6a58e86aa6b70038fe600f1cdbf0:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	template <class UniformRandomBitGenerator>
	static SO2 sampleUniform(UniformRandomBitGenerator& generator)

Draw uniform sample from SO(2) manifold.

.. index:: pair: function; vee
.. _doxid-class_sophus_1_1_s_o2_1a0a451cc0e4e0fc8c9c1e1b6e6a91e2ac:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	static :ref:`Tangent<doxid-class_sophus_1_1_s_o2_1aa736bce5fd6ca327d9162bd04d5254ab>` vee(:ref:`Transformation<doxid-class_sophus_1_1_s_o2_1a7cfa471521686013483a170682d01504>` const& Omega)

vee-operator

It takes the 2x2-matrix representation ``Omega`` and maps it to the corresponding scalar representation of Lie algebra.

This is the inverse of the :ref:`hat() <doxid-class_sophus_1_1_s_o2_1a6edca804182226f10afeee4a218ef67b>` -operator, see above.

Precondition: ``Omega`` must have the following structure:

.. code-block:: cpp

	|  0 -a |
	|  a  0 |

.. index:: pair: function; unit_complex_nonconst
.. _doxid-class_sophus_1_1_s_o2_1a458c3514e680e3591ed107c3501b011a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	:ref:`ComplexMember<doxid-class_sophus_1_1_s_o2_1a584cf94ed97900921a8958e4b74b1adf>`& unit_complex_nonconst()

Mutator of complex number is protected to ensure class invariant.

